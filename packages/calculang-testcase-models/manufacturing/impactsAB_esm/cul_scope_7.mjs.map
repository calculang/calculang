{"version":3,"names":["revenue","profit","costs","units_","units_1","price_","price_1","units","step_in","units_in","price_in","price_multiplier_in","step","price","price_multiplier"],"sources":["price-change-reconciliation.cul.js"],"sourcesContent":["// this model takes inputs base price and units, and a price_multiplier.\n// it derives a proposed price by applying the multiplier and derives consequent units, constrained to the demand curve below.\n\n// via an additional input step_in it provides a mini reconciliation (if you can call it that) feature, moving units from the amount reflecting the update to the demand curve (when step_in is 0)\n// back to the base unit value (when step_in is 1) i.e. giving the results without the demand curve impact.\n\n// both revenue and units are impacted by the step input (and profit, and any other units-dependent functions throughout the complete model: this works no matter how complicated the base model)\n\n// 'mini' is because price is already updated throughout the steps - step is really just acting like a switch here.\n// A real reconciliation should move through all the inputs, and should be structured more logically (as in a model-of- a more general model, separated), but this is just for testing\n\n// this tests some key language features of calculang and demos their technical motivations\n\nimport { revenue, profit, costs, units_ as units_1, price_ as price_1 } from './base.cul'; // don't pollute the _ modifier\nexport { revenue, profit, costs, units_1, price_1 };\n//export { revenue, units_, price_ };\n\n// import { all } from './base.cul.js'; TODO use this in place of above when I fix issue #13\n// export { all };\n\nexport const units = () =>\n  step() >= 1 ? units_1() + (price() - price_1()) * -0.005 : units_1();\nexport const price = () => price_1() * price_multiplier();\n\n// new inputs\nexport const price_multiplier = () => price_multiplier_in;\nexport const step = () => step_in;\n"],"mappings":"ykDAAA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,SAASA,QAAO,EAAEC,OAAM,EAAEC,MAAK,EAAEC,MAAM,IAAIC,QAAO,EAAEC,MAAM,IAAIC,QAAO,QAAQ,iDAAY,CAAC,CAAC;AAC3F,SAASN,QAAO,EAAEC,OAAM,EAAEC,MAAK,EAAEE,QAAO,EAAEE,QAAO;AACjD;;AAEA;AACA;;AAEA,OAAO,MAAMC,MAAK,GAAGA,CAAA,EAAAC,OAAA,EAAAC,QAAA,EAAAC,QAAA,EAAAC,mBAAA;AACnBC,IAAI,GAAAJ,OAAA,GAAE,IAAI,CAAC,GAAGJ,OAAO,GAAAK,QAAA,GAAE,GAAG,CAACI,KAAK,GAAAH,QAAA,EAAAC,mBAAA,GAAE,GAAGL,OAAO,GAAAI,QAAA,GAAE,IAAI,CAAC,KAAK,GAAGN,OAAO,GAAAK,QAAA,GAAE;AACtE,OAAO,MAAMI,MAAK,GAAGA,CAAA,EAAAH,QAAA,EAAAC,mBAAA,OAAML,OAAO,GAAAI,QAAA,GAAE,GAAGI,gBAAgB,GAAAH,mBAAA,GAAE;;AAEzD;AACA,OAAO,MAAMG,iBAAgB,GAAGA,CAAA,EAAAH,mBAAA,OAAMA,mBAAmB;AACzD,OAAO,MAAMC,KAAI,GAAGA,CAAA,EAAAJ,OAAA,OAAMA,OAAO"}